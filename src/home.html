<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>æ˜“æŒé€š - é¦–é¡µ</title>
    <!-- é¢„åŠ è½½å…³é”®å›¾ç‰‡ -->
    <link rel="preload" href="images/hmif/banner_01.jpg" as="image">
    <link rel="preload" href="images/hmif/banner_02.jpg" as="image">
    <link rel="preload" href="images/hmif/default-banner.png" as="image">
    <link rel="preload" href="images/hmif/default-icon.png" as="image">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/icons.css">
    <!-- ç”¨æˆ·è®¤è¯æ£€æŸ¥ -->
    <script src="js/auth-check.js"></script>
    <!-- å†…è”é»˜è®¤å›¾æ ‡æ ·å¼ -->
    <style>
        /* é»˜è®¤å›¾æ ‡æ ·å¼ï¼Œé˜²æ­¢undefinedæ˜¾ç¤º */
        .function-grid .grid-item {
            text-align: center;
            position: relative;
        }
        /* éšè—å¯èƒ½å‡ºç°çš„undefinedæ–‡æœ¬ */
        .function-grid .grid-item:has(> .grid-label:empty)::after,
        .function-grid .grid-item:has(> span:empty)::after {
            content: 'åŠŸèƒ½é¡¹';
            font-size: 14px;
            color: #333;
            margin-top: 8px;
            display: block;
        }
        
        /* éšè—æ‰€æœ‰åŠ¨æ€ç”Ÿæˆçš„åŠŸèƒ½é¡¹ */
        .function-grid .grid-item:not([onclick]) {
            display: none !important;
        }
        
        /* åªæ˜¾ç¤ºå‡ºå·®ç®¡ç†å’Œå¾…åŠ */
        .function-grid .grid-item[onclick="navigateToBusinessTravel()"],
        .function-grid .grid-item[onclick="navigateToApproval()"] {
            display: flex !important;
        }
    </style>
</head>
<body>
    <!-- é¦–é¡µ -->
    <div id="mainPage" class="page active">

        <!-- åº”ç”¨å¤´éƒ¨ -->
        <div class="app-header">
            <div class="header-left">
                <div class="app-icon">$</div>
                <span class="app-name">æ˜“æŒé€š</span>
            </div>
            <div class="header-right">
                <button class="logout-btn" onclick="showLogoutConfirm()">é€€å‡ºç™»å½•</button>
            </div>
        </div>

        <!-- ä¸»å†…å®¹åŒºåŸŸ - å¯æ»šåŠ¨ -->
        <div class="main-content">
            <!-- è½®æ’­å›¾åŒºåŸŸ -->
            <div class="banner-container">
                <div class="banner-slider" id="bannerSlider">
                    <!-- é¢„æ¸²æŸ“è½®æ’­å›¾å ä½ï¼Œæé«˜åŠ è½½é€Ÿåº¦ -->
                    <div class="banner-slide" style="display:block; width:100%; height:100%">
                        <img src="images/hmif/banner_01.jpg" alt="Banner 1" 
                             loading="eager" decoding="sync" importance="high" 
                             style="width:100%; height:100%; object-fit:cover; border-radius:20px">
                    </div>
                </div>
                <div class="banner-dots" id="bannerDots">
                    <span class="dot active"></span>
                </div>
                <div class="banner-placeholder" style="display:none">
                    <span>åŠ è½½ä¸­...</span>
                </div>
            </div>

            <!-- åŠŸèƒ½æ¨¡å—ç½‘æ ¼ -->
            <div class="function-grid">
            <div class="grid-item" onclick="navigateToBusinessTravel()">
                <div class="grid-icon icon-approval">âœˆï¸</div>
                <span class="grid-label">å‡ºå·®ç®¡ç†</span>
            </div>
            <div class="grid-item" onclick="navigateToApproval()">
                <div class="grid-icon icon-process">ğŸ“‹</div>
                <span class="grid-label">å¾…åŠ</span>
            </div>
            <div class="grid-item" onclick="openCompanyWebsite()">
                <div class="grid-icon icon-website" style="background: linear-gradient(135deg, #FF5722 0%, #FF9800 100%);">ğŸŒ</div>
                <span class="grid-label">ä¼ä¸šç½‘ç«™</span>
            </div>
            <!-- æš‚æ—¶æ³¨é‡Šæ‰å…¶ä»–åŠŸèƒ½æ¨¡å— -->
            <!-- <div class="grid-item" onclick="showComingSoon()">
                <div class="grid-icon icon-reminder">ğŸ“…</div>
                <span class="grid-label">æé†’</span>
            </div>
            <div class="grid-item" onclick="navigateToApproval()">
                <div class="grid-icon icon-task">ğŸ’–</div>
                <span class="grid-label">è¿æ£€ä»»åŠ¡</span>
            </div>
            <div class="grid-item" onclick="navigateToApproval()">
                <div class="grid-icon icon-mytask">â°</div>
                <span class="grid-label">æˆ‘çš„ä»»åŠ¡</span>
            </div>
            <div class="grid-item" onclick="showComingSoon()">
                <div class="grid-icon icon-more">âš™ï¸</div>
                <span class="grid-label">æ›´å¤š</span>
            </div> -->
        </div>

        <!-- æ¶ˆæ¯é€šçŸ¥åŒºåŸŸ -->
        <div class="message-section" onclick="navigateToNotifications()">
            <div class="message-item">
                <div class="message-icon">ğŸ“¢</div>
                <div class="message-content">
                    <span class="message-title" title="æ¬¢è¿ä½¿ç”¨æ˜“æŒé€šç§»åŠ¨å®¡æ‰¹ç³»ç»Ÿï¼Œç‚¹å‡»æŸ¥çœ‹æ›´å¤šé€šçŸ¥">æ¬¢è¿ä½¿ç”¨æ˜“æŒé€šç§»åŠ¨å®¡æ‰¹ç³»ç»Ÿ</span>
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨å¡ç‰‡åŒºåŸŸ -->
        <div class="bottom-cards">
            <div class="card card-blue" onclick="navigateToRegulations()">
                <div class="card-icon">ğŸ“‹</div>
                <span class="card-title">è§„ç« åˆ¶åº¦</span>
            </div>
            <div class="card card-orange" onclick="showComingSoon()">
                <div class="card-icon">ğŸ¢</div>
                <span class="card-title">ä¼ä¸šé£è²Œ</span>
            </div>
            </div>
        </div>
        
        <!-- åº•éƒ¨å¯¼èˆª -->
        <div class="bottom-nav">
            <div class="nav-item active" onclick="navigateToHome()">
                <div class="nav-icon">âŒ‚</div>
                <span class="nav-label">é¦–é¡µ</span>
            </div>
            <div class="nav-item" onclick="navigateToApproval()">
                <div class="nav-icon">âœ“</div>
                <span class="nav-label">å®¡æ‰¹</span>
            </div>
            <div class="nav-item" onclick="navigateToProfile()">
                <div class="nav-icon">â—‰</div>
                <span class="nav-label">æˆ‘çš„</span>
            </div>
        </div>
    </div>

    <!-- ç¡®è®¤å¯¹è¯æ¡† -->
    <div id="confirmModal" class="modal">
        <div class="modal-content confirm-modal">
            <div class="confirm-header">
                <h3>æ¸©é¦¨æç¤º</h3>
            </div>
            <div class="confirm-body">
                <p id="confirmMessage">ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ</p>
            </div>
            <div class="confirm-footer">
                <button class="btn btn-cancel" onclick="closeConfirmModal()">ç¨åå†è¯´</button>
                <button class="btn btn-confirm" onclick="confirmAction()">æ˜¯çš„</button>
            </div>
        </div>
    </div>

    <!-- ä¼ä¸šç½‘ç«™Modal -->
    <div id="websiteModal" class="modal">
        <div class="modal-content website-modal">
            <div class="modal-header">
                <h3>ä¼ä¸šç½‘ç«™</h3>
                <span class="close-btn" onclick="closeWebsiteModal()">&times;</span>
            </div>
            <div class="modal-body website-container">
                <iframe id="companyWebsite" src="" frameborder="0"></iframe>
            </div>
        </div>
    </div>

    <!-- Toast æç¤º -->
    <div id="toast" class="toast"></div>

    <!-- JavaScript -->
    <script src="js/api.js"></script>
    <script src="js/common.js"></script>
    <script src="js/home.js"></script>
    <script>
        // ä¼ä¸šç½‘ç«™åŠŸèƒ½
        function openCompanyWebsite() {
            document.getElementById('companyWebsite').src = 'http://www.hongmakj.com/';
            document.getElementById('websiteModal').classList.add('active');
            document.body.style.overflow = 'hidden'; // é˜²æ­¢èƒŒæ™¯æ»šåŠ¨
        }
        
        function closeWebsiteModal() {
            document.getElementById('websiteModal').classList.remove('active');
            document.body.style.overflow = '';
            // å»¶è¿Ÿæ¸…ç©ºiframeå†…å®¹ï¼Œé¿å…é¡µé¢é—ªçƒ
            setTimeout(() => {
                document.getElementById('companyWebsite').src = '';
            }, 300);
        }
    </script>
    
    <style>
        /* ä¼ä¸šç½‘ç«™æ¨¡æ€æ¡†æ ·å¼ */
        .website-modal {
            width: 95%;
            max-width: 1200px;
            height: 90%;
            max-height: 800px;
            padding: 0;
            display: flex;
            flex-direction: column;
        }
        
        .website-modal .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background: #f5f5f5;
            border-bottom: 1px solid #e0e0e0;
            flex-shrink: 0;
        }
        
        .website-modal .modal-header h3 {
            margin: 0;
            font-size: 16px;
        }
        
        .website-modal .close-btn {
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            color: #666;
        }
        
        .website-modal .modal-body {
            flex: 1;
            overflow: hidden;
            position: relative;
        }
        
        .website-container {
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        
        #companyWebsite {
            width: 100%;
            height: 100%;
            border: none;
            overflow: auto;
        }
        
        /* è°ƒæ•´å›¾æ ‡æ ·å¼ */
        .icon-website {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
    </style>
</body>
</html>